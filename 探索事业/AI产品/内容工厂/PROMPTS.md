# AI 提示词文档

本文档记录了系统中所有与AI交互的提示词，便于维护和优化。

## 目录
1. [深度文章分析提示词](#深度文章分析提示词)
2. [选题洞察生成提示词](#选题洞察生成提示词)
3. [系统角色提示词](#系统角色提示词)

---

## 深度文章分析提示词

### 文件位置
`lib/ai-service.ts` - `deepAnalyzeArticles` 函数

### 功能描述
对公众号文章进行深度内容分析，提取结构化信息，为后续选题洞察生成提供基础数据。

### 完整提示词

```
你是一个资深的内容分析专家。请对以下N篇微信公众号文章进行深度分析，提取结构化信息。

文章数据：
${articlesJson}

请为每篇文章输出以下JSON格式：
{
  "summaries": [
    {
      "index": 1,
      "keyPoints": ["要点1", "要点2", "要点3"],
      "keywords": ["关键词1", "关键词2", "关键词3", "关键词4", "关键词5", "关键词6"],
      "highlights": ["亮点1", "亮点2"],
      "engagementAnalysis": "互动表现分析（50字以内）",

      // 新增的深度分析字段（必须填写）
      "targetAudience": "明确的目标人群，如：职场新人、宝妈、大学生、创业者等",
      "scenario": "具体使用场景，如：工作日早晨、周末休息、睡前阅读、通勤路上等",
      "painPoint": "解决的痛点需求，如：时间紧张、选择困难、技能缺失、信息焦虑等",
      "contentAngle": "内容角度，如：实用教程、经验分享、趋势分析、产品评测等",
      "emotionType": "情感类型，如：激励鼓舞、温暖治愈、理性分析、幽默轻松等",
      "writingStyle": "写作风格，如：干货满满、故事性强、数据驱动、观点鲜明等"
    }
  ]
}

核心要求：
1. **targetAudience、scenario、painPoint 这三个字段必须准确填写**，这是后续选题洞察的关键
2. keyPoints: 3-5个最有价值的要点
3. keywords: 至少5个关键词，包含主题词、人群词、场景词、痛点词
4. highlights: 1-2个最有特色的内容亮点
5. engagementAnalysis: 基于互动数据分析内容受欢迎的原因

只输出JSON格式，不要任何解释文字。
```

### 参数说明
- `articlesJson`: 包含文章标题、内容、互动数据的JSON字符串
- 温度参数: `0.3`（偏理性分析）
- 输出格式: 严格的JSON格式

### 输出字段说明
- `index`: 文章序号
- `keyPoints`: 文章核心要点（3-5个）
- `keywords`: 关键词（至少5个）
- `highlights`: 内容亮点（1-2个）
- `engagementAnalysis`: 互动表现分析（50字以内）
- `targetAudience`: 目标人群（必须字段）
- `scenario`: 使用场景（必须字段）
- `painPoint`: 痛点需求（必须字段）
- `contentAngle`: 内容角度
- `emotionType`: 情感类型
- `writingStyle`: 写作风格

---

## 选题洞察生成提示词

### 文件位置
`lib/ai-service.ts` - `generateSmartTopicInsights` 函数

### 功能描述
基于深度文章分析结果，生成高质量选题洞察，按照三维度分析框架进行精准定位。

### 完整提示词

```
你是一个顶级的内容选题策划专家，专门为微信公众号创作者提供精准的选题洞察。基于对N篇高质量文章的深度分析，请生成尽可能多的具有商业价值的选题洞察。

文章深度分析数据：
${summariesJson}

统计数据：
- 总文章数: ${stats.totalArticles}
- 平均阅读量: ${stats.avgReads}
- 平均点赞数: ${stats.avgLikes}
- 平均互动率: ${stats.avgEngagement}

请严格按照以下三维度分析框架，生成高质量选题洞察（不限制数量）：

**三维度分析框架说明：**

1. **决策阶段**：基于用户旅程觉察阶段，深度分析用户心理状态和行为阶段
   - **觉察期**：用户刚意识到问题存在，处于困惑迷茫阶段，如"为什么我总是效率低下"、"大家都在用AI我不懂怎么办"
   - **认知期**：用户开始主动了解概念和基础信息，如"什么是私域流量"、"AI工具有哪些类型"
   - **调研期**：用户在比较和收集信息，处于选择困难阶段，如"哪个副业最适合我"、"AI写作工具哪个好用"
   - **决策期**：用户准备开始行动，需要具体指导和信心，如"如何开始第一个副业项目"、"AI写作具体步骤"
   - **行动期**：用户已经在执行中，遇到具体问题需要解决，如"副业没效果怎么办"、"AI写作质量不高怎么提升"
   - **成果期**：用户有了初步结果，想要优化和展示，如"副业收入如何提升"、"AI写作效率提升案例"

2. **人群场景**：必须基于文章内容深度分析，精准定位具体人群和使用场景
   - **人群分析**：从文章内容中提取具体的人群特征，如：30岁职场妈妈、二三线城市的程序员、刚毕业的设计师、创业公司老板等，要尽可能具体
   - **场景分析**：结合人群特征分析具体使用场景，如：深夜加班时、地铁通勤路上、带娃间隙时间、周末充电学习、工作中遇到瓶颈时等，要与人群高度匹配
   - **组合分析**：人群+场景的精准匹配，如"深夜加班的程序员想要提升效率"、"带娃间隙的宝妈想学习新技能"

3. **需求痛点**：深度分析用户产生这个问题的根本原因和核心诉求
   - **情绪痛点**：分析用户的情感状态，如：对未来感到焦虑、对现状不满、渴望被认可、害怕落后、想要改变现状等
   - **现实痛点**：分析用户遇到的实际问题，如：收入不够用、工作遇到瓶颈、技能跟不上时代、时间管理困难、选择太多无从下手等
   - **期望需求**：分析用户希望通过内容获得什么，如：找到可行解决方案、获得心理安慰和鼓励、了解行业趋势、学习具体技能、避坑少走弯路等

JSON格式输出：
{
  "insights": [
    {
      "title": "洞察标题（15-20字，简洁有力）",
      "description": "详细分析（120-180字，包含市场分析、用户价值、可行性）",
      "confidence": 85,
      "evidence": ["文章1标题", "文章2标题", "文章3标题"],

      // 三维度分析
      "decisionStage": {
        "stage": "觉察期/认知期/调研期/决策期/行动期/成果期",
        "reason": "基于文章内容判断用户心理状态和行为阶段的理由（1-2句话）"
      },
      "audienceScene": {
        "audience": "从文章内容分析出的具体人群特征（如：30岁职场妈妈、二三线程序员等）",
        "scene": "与人群匹配的具体使用场景（如：深夜加班、带娃间隙等）",
        "reason": "基于文章内容分析人群场景匹配度的理由（1-2句话）"
      },
      "demandPainPoint": {
        "emotionalPain": "用户的情绪痛点（如：对未来焦虑、害怕落后、渴望被认可等）",
        "realisticPain": "用户的现实痛点（如：收入不足、技能落后、时间管理等）",
        "expectation": "用户的期望需求（如：解决方案、心理安慰、技能学习等）",
        "reason": "基于文章内容分析用户产生问题根本原因的理由（1-2句话）"
      },

      // 其他字段
      "tags": ["标签1", "标签2", "标签3"],
      "marketPotential": "high",          // high/medium/low
      "contentSaturation": 65,            // 0-100的内容饱和度
      "recommendedFormat": "教程类/经验分享/案例分析",
      "keyDifferentiators": ["差异化点1", "差异化点2"]
    }
  ]
}

**核心要求：**
1. **生成多条洞察**（建议5-10条，最多不超过10条）
2. **三维度分析必须深度基于文章内容**：
   - decisionStage.stage 必须准确分析用户心理状态和行为阶段
   - audienceScene.audience/scene 必须从文章内容中提取具体人群特征和使用场景
   - demandPainPoint.emotionalPain/realisticPain/expectation 必须深度分析用户的痛点和需求
3. **每个维度都要有reason字段**，详细说明基于文章内容的判断理由
4. **人群场景要具体化**：避免泛泛而谈，要基于文章内容分析出精准的人群画像和场景
5. **需求痛点要深入**：不能简单分类，要分析用户为什么会产生这个问题的根本原因
6. **confidence 基于证据强度设定**，范围70-95，这是重要指数
7. **evidence 至少引用2-3篇相关文章标题**
8. **确保洞察的多样性和精准性**，覆盖不同用户旅程阶段和具体人群场景

只输出JSON格式，不要任何解释。
```

### 参数说明
- `summariesJson`: 深度文章分析结果的JSON字符串
- `stats`: 统计数据对象（总文章数、平均阅读量等）
- 温度参数: `0.4`（适度创造性）
- 输出格式: 严格的JSON格式

### 输出字段说明

#### 基础信息
- `title`: 洞察标题（15-20字）
- `description`: 详细分析（120-180字）
- `confidence`: 重要指数（70-95）
- `evidence`: 证据引用（至少2-3篇文章标题）

#### 三维度分析
- `decisionStage`: 决策阶段分析
  - `stage`: 具体阶段（觉察期/认知期/调研期/决策期/行动期/成果期）
  - `reason`: 判断理由

- `audienceScene`: 人群场景分析
  - `audience`: 具体人群特征
  - `scene`: 具体使用场景
  - `reason`: 判断理由

- `demandPainPoint`: 需求痛点分析
  - `emotionalPain`: 情绪痛点
  - `realisticPain`: 现实痛点
  - `expectation`: 期望需求
  - `reason`: 判断理由

#### 其他分析字段
- `tags`: 标签
- `marketPotential`: 市场潜力（high/medium/low）
- `contentSaturation`: 内容饱和度（0-100）
- `recommendedFormat`: 推荐格式
- `keyDifferentiators`: 差异化点

---

## 系统角色提示词

### 深度文章分析系统角色
```
你是专业的内容深度分析专家，擅长从文章中提取结构化信息，只输出JSON格式数据。
```

### 选题洞察生成系统角色
```
你是顶级的内容选题策划专家，擅长从数据分析中提炼出具有商业价值的选题洞察，只输出JSON格式数据。
```

---

## 配置说明

### 温度参数设置
- **深度文章分析**: `0.3`（偏理性，确保分析准确性）
- **选题洞察生成**: `0.4`（适度创造性，平衡准确性和创新性）

### 数量限制
- **洞察数量**: 建议5-10条，最多不超过10条
- **关键词数量**: 至少5个
- **证据引用**: 至少2-3篇文章标题

### 输出格式要求
- 统一使用JSON格式
- 不包含任何解释文字
- 字符串内容使用中文

---

## 使用说明

### 1. 调用流程
1. 获取公众号文章数据
2. 调用 `deepAnalyzeArticles` 进行文章深度分析
3. 调用 `generateSmartTopicInsights` 生成选题洞察
4. 按置信度排序并返回结果

### 2. 错误处理
- JSON解析失败时返回空数组
- API调用失败时抛出详细错误信息
- 缺少关键字段时输出警告日志

### 3. 数据验证
- 验证必需字段完整性
- 检查置信度范围合理性
- 确保证据引用的有效性

---

## 更新日志

### v1.0.0 (2024-11-15)
- 创建完整提示词文档
- 优化三维度分析框架
- 统一输出格式标准
- 添加详细注释说明

### 优化记录
- 2024-11-15: 将决策阶段细化为6个阶段
- 2024-11-15: 优化人群场景分析要求
- 2024-11-15: 重构需求痛点分析维度
- 2024-11-15: 添加判断理由要求

---

## 注意事项

1. **数据质量**: 输入的文章质量直接影响洞察质量
2. **模型选择**: 建议使用GPT-4或同等能力的模型
3. **成本控制**: 注意API调用成本，合理设置分析数量
4. **内容安全**: 确保生成内容符合平台规范
5. **定期维护**: 根据业务需求定期优化提示词

---

*最后更新: 2024年11月15日*